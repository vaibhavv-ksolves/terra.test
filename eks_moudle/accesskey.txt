
AKIAUQ4L3PFQNITO4NKUc, qQu9gypHoKLT0mD8qb1iNOlPfqxG31HED0aR5YSB



###
7vHOkOpDhAMw2cf04QEdwmyIWkW7XUdMBU8JyEvE8vDiNa32c73HJQQJ99BDACAAAAAXSjqwAAASAZDO2jim
vvardhiya
git clone https://TheLCFGroup@dev.azure.com/TheLCFGroup/terraform-aws-root/_git/terraform-aws-root


https://TheLCFGroup@dev.azure.com/TheLCFGroup/terraform-aws-vpc/_git/terraform-aws-vpc
vvardhiya
4cRXJnRjneMdD0dNwuGOVmCXji2zoB3xZZN9gYB0BO1j4rIKHXs1JQQJ99BDACAAAAAXSjqwAAASAZDO2kkY
###

terraform-modules(root directory)
https://TheLCFGroup@dev.azure.com/TheLCFGroup/terraform-modules/_git/terraform-modules
vvardhiya
CTpKDsk5F4RL0OoYoaPWRyfdmXYQ4e0KDHHMEaP6qyb2Nf7UNXGDJQQJ99BDACAAAAAXSjqwAAASAZDO3IZ2

terraform-modules/vpc
https://TheLCFGroup@dev.azure.com/TheLCFGroup/terraform-modules/_git/terraform-aws-vpc
vvardhiya
DOEQIWIm5OScQLrQYvHiCQf1XTxqPd5N0jrguuwWJL8Ei8eHZgPBJQQJ99BDACAAAAAXSjqwAAASAZDO2NM8

2
https://TheLCFGroup@dev.azure.com/TheLCFGroup/terraform-modules/_git/terraform-aws-vpc
vvardhiya
FyXc5EB1gEqiS7365mYxFXMiKxghLg8fzYpUiXRArxJon2YzqEzGJQQJ99BDACAAAAAXSjqwAAASAZDO3vwv

terraform-modules/eks
https://TheLCFGroup@dev.azure.com/TheLCFGroup/terraform-modules/_git/terraform-aws-eks
vvardhiya
1drJebaraxv8hPgtBqS6B5YWOnziBVNi9YQQkEeT1niZ38mcL44QJQQJ99BDACAAAAAXSjqwAAASAZDO4T4j

Access key ID,Secret access key

AKIAUQ4L3PFQNITO4NKUs, qQu9gypHoKLT0mD8qb1iNOlPfqxG31HED0aR5YSB



##IGN##
https://docs.aws.amazon.com/eks/latest/userguide/security-iam-troubleshoot.html#security-iam-troubleshoot-cannot-view-nodes-or-workloads

export AWS_ACCESS="ASIAUQ4L3PFQHNOF  BAWM"
export AWS_SECRE="CdbyNAzultVHzjA9wXHhIEYZ465FPZmbi  YduF+7y"
export AWS_SESSION_TOKEN="IQoJb3JpZ2luX2VjEPr//////////wEaCXVzLWVhc3QtMSJGMEQCIBkIn1dpMcTe13+j/zTll1LWX9UM9aYwklEhfb00lVL+AiBcgNqtQAt0aYIIDOoUzMMJqPDdZ+ebspyKdiQATiJAxCqQAwhzEAAaDDMxMTE0MTU2MjcyMCIMzlHCB08buBQjGZz+Ku0C0xku13VV7mA9j+P0tMRWWqNGCuwiSoHybJASFo1KZAa4FPoWqpn1RUMQPZRsjVL0XEK4KnnrSO5jqaQAUw47ZQNq73HTcWdX6H5tGyevXvp1Cox3/XKKwfQREPyn0R6tTz4O5P5iBqR7PA81LlcQxN2IWXUyEXbimXIj8GEP6cdj1UvcYY3pkIZdeqMLxVs6U66ausIzItUK923dQ4XhZ05s4e4MOoOuLJWOP0Z+rtMwNODc1O29r0uMMzH7cgtQTCfOoM5WBZibUDR/jZFQQ26hv5s/JV4lfcPjnmeGcu/GRxYX/YlV6Qeq1WKn2mfv66O6ZzLUQ4ZxNL4LiD3sNGcjmG2ra+JRFi5FfKru00W0x4WLqE0ISElTGyB2mqj2s5EZlkxtWf/k9melyEMNR/g7JtuTssx/IdyUeVlFNeGVsSbvzLbQRo7FY6sk3IB6X+TWmvd91aTZNtQXZ9frD2re4oV5wFjG5BqGcS0wj+bTvwY6pwE8JoDcV//7OIKoqw63IbcxQDdkpFkg/9FKgsEqENtEEIjj2MpFr3DezdhBawwO7ALGzDJzNat75KXDucYuTiB1OL92J5xS4ukBZy35X2J1prShoNfs/UG0GygbxznXWHYAXMKa/ZDJ84w6X+4FBvLZ9tPai3KwfB8+z0f30Z6AUUmQjIvCHzZN5BzmXyxhQItmNVbf9R0kloZbZwQMeFKI4QytWVHgIg=="



{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "iam:GetRole",
                "iam:ListRolePolicies",
                "iam:ListAttachedRolePolicies",
                "iam:ListInstanceProfilesForRole"
            ],
            "Resource": [
                "arn:aws:iam::905418011915:role/eks-cluster-role",
                "arn:aws:iam::905418011915:role/eks-worker-node-role"
            ]
        }
    ]
}

{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "eks:CreateCluster",
                "eks:DeleteCluster",
                "iam:PassRole",
                "ec2:DescribeSecurityGroups",
                "ec2:DescribeSubnets",
                "ec2:DescribeVpcs",
                "autoscaling:DescribeLaunchConfigurations"
            ],
            "Resource": "*"
        }
    ]
}
aws eks associate-access-policy --cluster-name my-cluster --principal-arn arn:aws:iam::111122223333:user/example-user --policy-arn arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy --access-scope type=cluster


aws eks associate-access-policy --cluster-name lcf-prod-eks --principal-arn arn:aws:iam::311141562720:user/test --policy-arn arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy --access-scope type=cluster

aws eks create-access-entry --cluster-name lcf-prod-eks --principal-arn arn:aws:iam::311141562720:user/test


{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeInstances",
        "ec2:DescribeNetworkInterfaces",
        "ec2:DescribeVpcs",
        "ec2:DescribeDhcpOptions",
        "ec2:DescribeAvailabilityZones",
        "ec2:DescribeInstanceTopology"
      ],
      "Resource": "*"
    }
  ]
}
